<template name="App_newProduct">
  <!-- Our product -->
  <section class="bgwhite p-t-10 p-b-10">
    <div class="container">


      <div class="animated fadeIn">
        <div class="row">
          <div class="col-lg-12">
            <div class="card">

              <div class="card-header s-text12">
                Please fill in information for new product
                <!-- <small> <code>.col-lg-*</code><code>.col-md-*</code><code>.col-sm-*</code> </small> -->
              </div>

              <div class="card-body card-block">
                <form action="" id="newProductForm" method="post" class="form-horizontal">
                  <div class="row">
                    <!-- image column -->
                    <div class="col col-md-3">
                      {{> cSelectImage}}
                    </div>

                    <!-- Form column -->
                    <div class="col col-md-7">
                      <div class="row form-group">
                        <!-- <div class="col col-md-6"> <label for="englishName" class=" form-control-label">English Name</label> <input type="text" id="englishName" placeholder="Apples" class="form-control" required="required"> </div> -->
                        <div class="col col-md-6">
                          <label for="englishName" class="s-text7">
                             English Name
                          </label>
                          <div class="bo4 of-hidden size15 m-b-20">
                            <input class="sizefull s-text7 p-l-22 p-r-22" type="text" id="englishName" placeholder="Apples" required="required" autocapitalize="none" autocorrect="off">
                          </div>
                        </div>
                        <div class="col col-md-6">
                          <label for="khmerName" class="s-text7">
                            Khmer Name
                          </label>
                          <div class=" bo4 of-hidden size15 m-b-20">
                            <input class="sizefull s-text7 p-l-22 p-r-22" type="text" id="khmerName" placeholder="ផ្លែប៉ោម" required="required" autocapitalize="none" autocorrect="off">
                          </div>
                        </div>

                        <div class="col col-md-4">
                          <label for="regularPrice" class="s-text7">
                            Regular​ ​Price
                          </label>
                          <div class=" bo4 of-hidden size15 m-b-20">
                            <input class="sizefull s-text7 p-l-22 p-r-22" type="number" id="regularPrice" min="0.01" step="0.01" placeholder="Regular Price" autocapitalize="none" autocorrect="off">
                          </div>
                        </div>

                        <div class="col col-md-4">
                          <label for="salePrice" class="s-text7">
                            Sale ​Price
                          </label>
                          <div class=" bo4 of-hidden size15 m-b-20">
                            <input class="sizefull s-text7 p-l-22 p-r-22" type="number" id="salePrice" min="0.01" step="0.01" required="required" placeholder="Sale Price" autocapitalize="none" autocorrect="off">
                          </div>
                        </div>

                        <div class="col col-md-4">
                          <label for="unit" class="s-text7">
                            Unit
                          </label>
                          <div class=" bo4 of-hidden size15 m-b-20">
                            <input class="sizefull s-text7 p-l-22 p-r-22" type="text" id="unit" required="required" placeholder="Unit" autocapitalize="none" autocorrect="off">
                          </div>
                        </div>

                        <div class="col col-md-3">
                          <label for="min" class="s-text7">
                            Min
                          </label>
                          <div class=" bo4 of-hidden size15 m-b-20">
                            <input class="sizefull s-text7 p-l-22 p-r-22" type="number" id="min" min="0.01" step="0.01" placeholder="Min" autocapitalize="none" autocorrect="off">
                          </div>
                        </div>

                        <div class="col col-md-3">
                          <label for="step" class="s-text7">
                            Step
                          </label>
                          <div class=" bo4 of-hidden size15 m-b-20">
                            <input class="sizefull s-text7 p-l-22 p-r-22" type="number" id="step" min="0.01" step="0.01" required="required" placeholder="Step" autocapitalize="none" autocorrect="off">
                          </div>
                        </div>

                        <div class="col col-md-6">
                          <label for="purchaseNote" class="s-text7">
                            Purchase Note
                          </label>
                          <div class=" bo4 of-hidden size15 m-b-20">
                            <input class="sizefull s-text7 p-l-22 p-r-22" type="text" id="purchaseNote" placeholder="Purchase Note" autocapitalize="none" autocorrect="off">
                          </div>
                        </div>

                        <div class="col col-md-12">
                          <label for="description" class="s-text7">
                            Description
                          </label>
                          <textarea class="dis-block s-text7 size20 bo4 p-l-22 p-r-22 p-t-13 m-b-20" id="description" name="description" placeholder="Description" style="margin-top: 0px; margin-bottom: 20px; height: 120px;"></textarea>
                        </div>



                        <!-- <div class="col col-md-6"> <label for="khmerName" class=" form-control-label">Khmer Name</label> <input type="text" id="khmerName" placeholder="ផ្លែប៉ោម" class="form-control" required="required"> </div> -->
                      </div>

                      <div class="row form-group">
                        <div class="col-12 col-md-3 offset-md-1 form-check">
                          <div class="checkbox">
                            <label for="featured" class=" s-text7 ">
                              <input type="checkbox" id="featured" name="featured" class="form-check-input">Featured
                            </label>
                          </div>
                        </div>
                        <div class="col-12 col-md-3 form-check">
                          <div class="checkbox">
                            <label for="instock" class=" s-text7">
                              <input type="checkbox" id="instock" name="instock" checked="checked" class="form-check-input">In stock
                            </label>
                          </div>
                        </div>
                      </div>
                    </div>
                    <!-- Categories checkbox column -->
                    <div class="col-md-2">
                      <div class="row form-group">
                        <label class="s-text7">Categories</label>
                        <div class="col col-md-12">
                          <div class="form-check">

                            {{> checkboxCategories categoriesList}}

                          </div>
                        </div>
                      </div>
                    </div>

                  </div>

                  <!-- submit button -->
                  <div class="row">
                    <div class="col-md-3">
                      {{#if isEditMode}}
                        <button type="submit" class="at-btn flex-c-m size2 bg1 bo-rad-23 hov1 m-text3 trans-0-4 submit ">Update</button>
                      {{else}}
                        <button type="submit" class="at-btn flex-c-m size2 bg1 bo-rad-23 hov1 m-text3 trans-0-4 submit ">Create</button>
                      {{/if}}
                    </div>
                  </div>

                </form>
              </div>
              <!-- card body -->
            </div>
            <!-- card -->
          </div>
          <!-- col-lg-12 -->
        </div>
        <!-- row -->
      </div>
    </div>
  </section>

</template>

<!-- we don't know how many subcategory there are in categoreis, so we do recursion with templates -->
<template name="checkboxCategories">
  {{#each this}}
    <div class="checkbox">
      <label for="{{this.slug}}" class="form-check-label s-text7 ">
        <input type="checkbox" name="categories" id="{{this.slug}}" value="{{this.slug}}" class="form-check-input">{{this.name}}
        {{#if this.subcategory}}
          {{> checkboxCategories this.subcategory}}
          <!-- calling its template -->
        {{/if}}
      </label>
    </div>
  {{/each}}
</template>
